import React, { useState, useEffect } from "react";
import { goBack } from "../../components/backNavigation";
import { Footer } from "../../components/Footer";
import WeekCalendar from "../../components/Calendar";
import { RecordModal } from "./RecordModal"; 
import * as R from "./RecordStyle"
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { faDollarSign } from '@fortawesome/free-solid-svg-icons'


export function Record({ selectedDate }) {

	const [date, setDate] = useState(new Date());

	// useEffect(() => {
	// 	// Fetch data for the selected date
	// 	fetchData(selectedDate);
	// }, [selectedDate]);

	// const fetchData = async (date) => {
	// 	// Fetch data for the selected date from API or local storage
	// 	const responseData = await fetchSomeData(date);
	// 	setData(responseData);
	// };
	
	const [isModalOpen, setIsModalOpen] = useState(false);

	const openModal = (category) => {
		setSelectedCategory(category);
		setIsModalOpen(true);
		document.body.style.overflow = "hidden"
	};

	const closeModal = () => {
		setSelectedCategory(null);
		setIsModalOpen(false);
		document.body.style.overflow = "unset";
	};
	
	const categories = ["학업", "여가", "건강", "인간관계", "경제"];
	const [selectedCategory, setSelectedCategory] = useState(null);
	
	const [recordedTime, setRecordedTime] = useState("00 h 00 m");

	const handleConfirm = (timeRecorded) => {
		// 선택된 카테고리에 시간을 입력
		// 여기서는 백엔드와의 통신 등 필요한 작업을 추가할 수 있습니다.
		console.log(`카테고리: ${selectedCategory}, 입력된 시간: ${timeRecorded}`);
		setRecordedTime(timeRecorded);

		closeModal();
	};

    return (
        <R.RootWrapperNaN>
        <R.Frame48>
            <R.Vector xmlns="http://www.w3.org/2000/svg" onClick={goBack}>
            <path fill="rgba(0, 0, 0, 0.64)" d="M0 7.50001C0 7.74737 0.118471 7.97494 0.333872 8.16294L7.4852 14.723C7.7006 14.911 7.92677 15 8.18525 15C8.71299 15 9.13302 14.6439 9.13302 14.1491C9.13302 13.9117 9.03609 13.6742 8.86377 13.5257L6.45127 11.2698L2.18633 7.6979L1.96015 8.18273L5.42811 8.38062L19.0523 8.38062C19.6123 8.38062 20 8.01452 20 7.50001C20 6.9855 19.6123 6.6194 19.0523 6.6194L5.42811 6.6194L1.96015 6.81729L2.18633 7.31202L6.45127 3.73022L8.86377 1.47427C9.03609 1.31596 9.13302 1.08839 9.13302 0.850923C9.13302 0.356201 8.71299 0 8.18525 0C7.92677 0 7.7006 0.0791558 7.46365 0.296834L0.333872 6.83708C0.118471 7.02507 0 7.25265 0 7.50001Z"/>
            </R.Vector>
            <R.IconsBasicUser>
            <R.User xmlns="http://www.w3.org/2000/svg">
                <path fill="rgb(63, 67, 74)" d="M8.80577 3.36C8.80577 4.45794 7.85349 5.37 6.65 5.37C5.44652 5.37 4.49424 4.45794 4.49424 3.36C4.49424 2.26206 5.44652 1.35 6.65 1.35C7.85349 1.35 8.80577 2.26206 8.80577 3.36ZM10.2308 3.36C10.2308 5.21568 8.62761 6.72 6.65 6.72C4.6724 6.72 3.06924 5.21568 3.06924 3.36C3.06924 1.50432 4.6724 0 6.65 0C8.62761 0 10.2308 1.50432 10.2308 3.36ZM5.19025 9.03001L8.10975 9.03001C10.1355 9.03001 11.875 10.6659 11.875 12.8C11.875 12.887 11.8404 12.9536 11.7972 12.9963C11.7549 13.038 11.7135 13.05 11.678 13.05L1.62195 13.05C1.58653 13.05 1.54514 13.038 1.50285 12.9963C1.45958 12.9536 1.425 12.887 1.425 12.8C1.425 10.6659 3.16452 9.03001 5.19025 9.03001ZM0 12.8C0 9.97231 2.32375 7.68001 5.19025 7.68001L8.10975 7.68001C10.9762 7.68001 13.3 9.97231 13.3 12.8C13.3 13.6837 12.5738 14.4 11.678 14.4L1.62195 14.4C0.726172 14.4 0 13.6837 0 12.8Z"/>
            </R.User>
            </R.IconsBasicUser>
            <R.IconsBasicUser>
            <R.User xmlns="http://www.w3.org/2000/svg">
                <path fill="rgb(63, 67, 74)" d="M8.80577 3.36C8.80577 4.45794 7.85349 5.37 6.65 5.37C5.44652 5.37 4.49424 4.45794 4.49424 3.36C4.49424 2.26206 5.44652 1.35 6.65 1.35C7.85349 1.35 8.80577 2.26206 8.80577 3.36ZM10.2308 3.36C10.2308 5.21568 8.62761 6.72 6.65 6.72C4.6724 6.72 3.06924 5.21568 3.06924 3.36C3.06924 1.50432 4.6724 0 6.65 0C8.62761 0 10.2308 1.50432 10.2308 3.36ZM5.19025 9.03001L8.10975 9.03001C10.1355 9.03001 11.875 10.6659 11.875 12.8C11.875 12.887 11.8404 12.9536 11.7972 12.9963C11.7549 13.038 11.7135 13.05 11.678 13.05L1.62195 13.05C1.58653 13.05 1.54514 13.038 1.50285 12.9963C1.45958 12.9536 1.425 12.887 1.425 12.8C1.425 10.6659 3.16452 9.03001 5.19025 9.03001ZM0 12.8C0 9.97231 2.32375 7.68001 5.19025 7.68001L8.10975 7.68001C10.9762 7.68001 13.3 9.97231 13.3 12.8C13.3 13.6837 12.5738 14.4 11.678 14.4L1.62195 14.4C0.726172 14.4 0 13.6837 0 12.8Z"/>
            </R.User>
            </R.IconsBasicUser>
            <R.NaN_0002>집중 기록</R.NaN_0002>
        </R.Frame48>

        <R.NaN_0003>
            <R.Line3/>
			<WeekCalendar date={date} onChange={(newDate) => setDate(newDate)} />
        </R.NaN_0003>

		<div>
			<R.NaN_0004 onClick={() => openModal(categories[1])}>
				<R.Rectangle34/>
				<R.Ellipse11/>
				{categories[1]}{" "}
				<R.NaN_0005>여가</R.NaN_0005>
				<R._00H00M>
					{recordedTime}
				</R._00H00M>
				<R.FluentSport20Regular>
				<R.Vector_0001 xmlns="http://www.w3.org/2000/svg">
					<path fill="white" d="M23.408 21.3986C24.4681 21.0141 25.4554 20.4529 26.328 19.7386L12.256 5.66663C11.5418 6.53925 10.9805 7.52655 10.596 8.58663C9.94413 8.4148 9.28308 8.27991 8.616 8.18263C9.26605 6.24532 10.4001 4.50611 11.9105 3.12983C13.421 1.75355 15.258 0.785788 17.2472 0.318276C19.2365 -0.149236 21.3122 -0.101014 23.2776 0.458372C25.243 1.01776 27.033 2.06978 28.4779 3.51472C29.9229 4.95966 30.9749 6.74966 31.5343 8.71506C32.0936 10.6805 32.1419 12.7562 31.6744 14.7454C31.2068 16.7347 30.2391 18.5716 28.8628 20.0821C27.4865 21.5926 25.7473 22.7266 23.81 23.3766C23.7132 22.7103 23.579 22.0499 23.408 21.3986ZM21.414 11.9946L27.742 18.3226C28.6531 17.2126 29.3134 15.9186 29.6776 14.5295C30.0418 13.1404 30.1013 11.6889 29.852 10.2746C29.004 10.7346 28.032 10.9946 27 10.9946C25.7532 10.9968 24.537 10.6086 23.522 9.88463L21.414 11.9946ZM27.742 5.66663L24.968 8.44063C25.562 8.79263 26.258 8.99463 27 8.99463C27.85 8.99463 28.638 8.72863 29.286 8.27663C28.9071 7.33314 28.3865 6.45301 27.742 5.66663ZM21 4.99463C21 3.96263 21.26 2.99063 21.72 2.14263C20.3057 1.89334 18.8543 1.95283 17.4651 2.31703C16.076 2.68123 14.782 3.34152 13.672 4.25263L20 10.5806L22.108 8.47063C21.3851 7.4559 20.9977 6.2405 21 4.99463ZM23 4.99463C23 5.73663 23.2 6.43063 23.554 7.02663L26.328 4.25263C25.548 3.61263 24.668 3.08863 23.716 2.70863C23.2482 3.37902 22.9982 4.17718 23 4.99463ZM3 11.9946C2.73478 11.9946 2.48043 12.1 2.29289 12.2875C2.10536 12.4751 2 12.7294 2 12.9946L2 15.9946C2 19.7077 3.475 23.2686 6.1005 25.8941C8.72601 28.5196 12.287 29.9946 16 29.9946L19 29.9946C19.2652 29.9946 19.5196 29.8893 19.7071 29.7017C19.8946 29.5142 20 29.2598 20 28.9946L20 25.9946C20 22.2816 18.525 18.7206 15.8995 16.0951C13.274 13.4696 9.71303 11.9946 6 11.9946L3 11.9946ZM0 12.9946C-4.44089e-16 12.199 0.316071 11.4359 0.87868 10.8733C1.44129 10.3107 2.20435 9.99463 3 9.99463L6 9.99463C10.2435 9.99463 14.3131 11.6803 17.3137 14.6809C20.3143 17.6815 22 21.7512 22 25.9946L22 28.9946C22 29.7903 21.6839 30.5533 21.1213 31.1159C20.5587 31.6786 19.7956 31.9946 19 31.9946L16 31.9946C11.7565 31.9946 7.68687 30.3089 4.68629 27.3083C1.68571 24.3078 2.66454e-15 20.2381 0 15.9946L0 12.9946ZM8.292 18.2866C8.38489 18.1935 8.49524 18.1196 8.61673 18.0692C8.73822 18.0188 8.86847 17.9928 9 17.9928C9.13153 17.9928 9.26178 18.0188 9.38327 18.0692C9.50476 18.1196 9.61511 18.1935 9.708 18.2866L13.708 22.2866C13.8958 22.4744 14.0013 22.7291 14.0013 22.9946C14.0013 23.2602 13.8958 23.5149 13.708 23.7026C13.5202 23.8904 13.2656 23.9959 13 23.9959C12.7344 23.9959 12.4798 23.8904 12.292 23.7026L8.292 19.7026C8.19887 19.6097 8.12499 19.4994 8.07457 19.3779C8.02416 19.2564 7.99821 19.1262 7.99821 18.9946C7.99821 18.8631 8.02416 18.7329 8.07457 18.6114C8.12499 18.4899 8.19887 18.3795 8.292 18.2866Z"/>
				</R.Vector_0001>
				</R.FluentSport20Regular>
			</R.NaN_0004>

			<R.NaN_0006 onClick={() => openModal(categories[3])}>
				<R.Rectangle34/>
				<R.Ellipse11/>
				{categories[3]}{" "}
				<R.NaN_0007>인간관계</R.NaN_0007>
				<R._00H00M>
					{recordedTime}
				</R._00H00M>
				<R.OcticonPeople24>
				<R.Vector_0002 xmlns="http://www.w3.org/2000/svg">
					<path fill="white" d="M5.8267 9.16476C5.82703 7.58461 6.23582 6.03139 7.0134 4.65581C7.79098 3.28023 8.91094 2.12901 10.2646 1.31386C11.6183 0.498723 13.1596 0.0473424 14.7392 0.00352563C16.3187 -0.0402911 17.8828 0.324944 19.2795 1.06379C20.6763 1.80263 21.8584 2.88999 22.711 4.22035C23.5636 5.55071 24.0579 7.07889 24.1458 8.65658C24.2338 10.2343 23.9124 11.8079 23.2128 13.2248C22.5133 14.6416 21.4594 15.8536 20.1534 16.7431C22.9659 17.7746 25.4053 19.6243 27.1578 22.0539C28.9102 24.4836 29.8955 27.3821 29.9867 30.3764C29.9828 30.6993 29.8543 31.0081 29.6281 31.2385C29.4019 31.4688 29.0954 31.6028 28.7727 31.6125C28.4499 31.6222 28.136 31.5068 27.8963 31.2904C27.6567 31.074 27.5099 30.7734 27.4867 30.4514C27.3875 27.2039 26.0276 24.1225 23.6953 21.8604C21.363 19.5984 18.2416 18.3333 14.9925 18.3333C11.7434 18.3333 8.62203 19.5984 6.28975 21.8604C3.95747 24.1225 2.59762 27.2039 2.49837 30.4514C2.48168 30.7778 2.33783 31.0847 2.09763 31.3063C1.85744 31.5279 1.54 31.6467 1.21332 31.6371C0.88665 31.6275 0.576723 31.4903 0.349938 31.255C0.123153 31.0197 -0.00244984 30.7049 3.6213e-05 30.3781C0.0909551 27.3835 1.07605 24.4846 2.82851 22.0546C4.58098 19.6246 7.02061 17.7748 9.83337 16.7431C8.59809 15.9025 7.58719 14.7725 6.88882 13.4515C6.19045 12.1306 5.82582 10.6589 5.8267 9.16476ZM14.9934 2.49809C13.2253 2.49809 11.5296 3.20047 10.2793 4.45071C9.02908 5.70095 8.3267 7.39665 8.3267 9.16476C8.3267 10.9329 9.02908 12.6286 10.2793 13.8788C11.5296 15.129 13.2253 15.8314 14.9934 15.8314C16.7615 15.8314 18.4572 15.129 19.7074 13.8788C20.9577 12.6286 21.66 10.9329 21.66 9.16476C21.66 7.39665 20.9577 5.70095 19.7074 4.45071C18.4572 3.20047 16.7615 2.49809 14.9934 2.49809ZM28.81 9.16476C28.5634 9.16476 28.3234 9.18142 28.0867 9.21476C27.9215 9.24434 27.752 9.24035 27.5883 9.203C27.4246 9.16566 27.2702 9.09573 27.1341 8.9974C26.9981 8.89907 26.8832 8.77434 26.7964 8.63066C26.7097 8.48697 26.6527 8.32728 26.6289 8.1611C26.6052 7.99493 26.6152 7.82567 26.6583 7.66343C26.7014 7.50119 26.7767 7.34929 26.8798 7.2168C26.9828 7.08431 27.1115 6.97393 27.2582 6.89226C27.4049 6.81058 27.5665 6.75929 27.7334 6.74142C29.391 6.50176 31.0813 6.82009 32.5381 7.6463C33.995 8.47251 35.1358 9.7597 35.781 11.3053C36.4262 12.8509 36.5392 14.5672 36.1021 16.184C35.665 17.8008 34.7028 19.2264 33.3667 20.2364C35.3307 21.1158 36.9982 22.5448 38.1682 24.3508C39.3381 26.1569 39.9604 28.2629 39.96 30.4148C39.96 30.7463 39.8283 31.0642 39.5939 31.2986C39.3595 31.5331 39.0416 31.6648 38.71 31.6648C38.3785 31.6648 38.0606 31.5331 37.8262 31.2986C37.5917 31.0642 37.46 30.7463 37.46 30.4148C37.4598 28.555 36.8606 26.7448 35.7511 25.2522C34.6416 23.7597 33.0808 22.6642 31.3 22.1281L30.41 21.8614L30.41 19.0681L31.0934 18.7198C32.1063 18.2067 32.9167 17.3672 33.3939 16.3368C33.871 15.3065 33.987 14.1454 33.7231 13.041C33.4592 11.9366 32.8308 10.9534 31.9394 10.2501C31.0479 9.54682 29.9455 9.16445 28.81 9.16476Z"/>
				</R.Vector_0002>
				</R.OcticonPeople24>
			</R.NaN_0006>

			<R.NaN_0008 onClick={() => openModal(categories[4])}>
				<R.Rectangle34/>
				<R.Ellipse11/>
				{categories[4]}{" "}
				<R.NaN_0005>경제</R.NaN_0005>
				<R._00H00M>
					{recordedTime}
				</R._00H00M>
				<R.IconoirCoin>
				<FontAwesomeIcon 
					icon={faDollarSign} 
					style={{ 
						color: 'white',
						fontSize: '35px',  
						marginLeft: '1px', 
						marginTop: '1px'   
					}} 
				/>
				</R.IconoirCoin>
			</R.NaN_0008>
			
			<R.NaN_0010 onClick={() => openModal(categories[0])}>
				<R.Rectangle34/>
				<R.Ellipse11/>
				{categories[0]}{" "}
				<R.NaN_0005>학업</R.NaN_0005>
				<R._00H00M>
					{recordedTime}
				</R._00H00M>
				<R.BiBook>
				<R.Vector_0005 xmlns="http://www.w3.org/2000/svg">
					<path fill="white" d="M2.5 4.83032C4.7125 3.90532 7.885 2.90782 10.97 2.59782C14.295 2.26282 17.115 2.75532 18.75 4.47782L18.75 28.8428C16.4125 27.5178 13.45 27.3353 10.7175 27.6103C7.7675 27.9103 4.7925 28.7628 2.5 29.6378L2.5 4.83032ZM21.25 4.47782C22.885 2.75532 25.705 2.26282 29.03 2.59782C32.115 2.90782 35.2875 3.90532 37.5 4.83032L37.5 29.6378C35.205 28.7628 32.2325 27.9078 29.2825 27.6128C26.5475 27.3353 23.5875 27.5153 21.25 28.8428L21.25 4.47782ZM20 2.21782C17.5375 0.100322 13.9675 -0.214678 10.7175 0.110322C6.9325 0.492822 3.1125 1.79032 0.7325 2.87282C0.514123 2.97214 0.328938 3.1322 0.199053 3.3339C0.0691667 3.5356 6.64286e-05 3.77042 0 4.01032L3.46945e-17 31.5103C5.7905e-05 31.7195 0.0525929 31.9253 0.152793 32.1088C0.252993 32.2924 0.397654 32.4479 0.573527 32.5611C0.7494 32.6743 0.950861 32.7415 1.15946 32.7567C1.36806 32.7718 1.57712 32.7344 1.7675 32.6478C3.9725 31.6478 7.525 30.4453 10.9675 30.0978C14.49 29.7428 17.4425 30.3153 19.025 32.2903C19.1421 32.4363 19.2905 32.5541 19.4593 32.6351C19.628 32.7161 19.8128 32.7581 20 32.7581C20.1872 32.7581 20.372 32.7161 20.5407 32.6351C20.7095 32.5541 20.8579 32.4363 20.975 32.2903C22.5575 30.3153 25.51 29.7428 29.03 30.0978C32.475 30.4453 36.03 31.6478 38.2325 32.6478C38.4229 32.7344 38.6319 32.7718 38.8405 32.7567C39.0491 32.7415 39.2506 32.6743 39.4265 32.5611C39.6023 32.4479 39.747 32.2924 39.8472 32.1088C39.9474 31.9253 39.9999 31.7195 40 31.5103L40 4.01032C39.9999 3.77042 39.9308 3.5356 39.8009 3.3339C39.6711 3.1322 39.4859 2.97214 39.2675 2.87282C36.8875 1.79032 33.0675 0.492822 29.2825 0.110322C26.0325 -0.217178 22.4625 0.100322 20 2.21782Z"/>
				</R.Vector_0005>
				</R.BiBook>
			</R.NaN_0010>

			<R.NaN_0012 onClick={() => openModal(categories[2])}>
				<R.Rectangle34/>
				<R.Ellipse11/>
				<R.MaterialSymbolsLightExerciseOutline>
				<R.Vector_0006 xmlns="http://www.w3.org/2000/svg">
					<path fill="white" d="M27.1317 10.465L25.985 9.31833L26.785 8.475C26.9994 8.26056 27.1067 8.02 27.1067 7.75333C27.1067 7.48667 26.9994 7.24611 26.785 7.03167L22.6067 2.85333C22.3922 2.63889 22.1517 2.53167 21.885 2.53167C21.6183 2.53167 21.3778 2.63889 21.1633 2.85333L20.32 3.65333L19.1317 2.465L20.0617 1.49333C20.5506 1.00444 21.15 0.766667 21.86 0.78C22.5689 0.794444 23.1678 1.04611 23.6567 1.535L28.1033 5.98167C28.5922 6.47056 28.8367 7.06278 28.8367 7.75833C28.8367 8.45389 28.5922 9.04611 28.1033 9.535L27.1317 10.465ZM9.535 28.1033C9.04611 28.5922 8.45389 28.8367 7.75833 28.8367C7.06278 28.8367 6.47056 28.5922 5.98167 28.1033L1.665 23.7867C1.15389 23.2756 0.898333 22.64 0.898333 21.88C0.898333 21.12 1.15389 20.485 1.665 19.975L2.465 19.1733L3.65333 20.3617L2.84333 21.1633C2.63 21.3778 2.52333 21.6183 2.52333 21.885C2.52333 22.1517 2.63 22.3922 2.84333 22.6067L7.03167 26.795C7.24611 27.0083 7.48667 27.115 7.75333 27.115C8.02 27.115 8.26056 27.0083 8.475 26.795L9.275 25.985L10.465 27.1733L9.535 28.1033ZM25.7567 16.7633L27.6517 14.8683C27.865 14.655 27.9717 14.4094 27.9717 14.1317C27.9717 13.8539 27.865 13.6083 27.6517 13.395L16.2433 1.98667C16.03 1.77333 15.7844 1.66667 15.5067 1.66667C15.2289 1.66667 14.9833 1.77333 14.77 1.98667L12.875 3.88167C12.6617 4.095 12.555 4.33556 12.555 4.60333C12.555 4.87 12.6617 5.11 12.875 5.32333L24.315 16.7633C24.5283 16.9767 24.7683 17.0833 25.035 17.0833C25.3017 17.0833 25.5422 16.9767 25.7567 16.7633ZM14.8267 27.6933L16.7217 25.7883C16.935 25.575 17.0417 25.335 17.0417 25.0683C17.0417 24.8017 16.935 24.5611 16.7217 24.3467L5.29167 12.9167C5.07833 12.7033 4.83778 12.5967 4.57 12.5967C4.30333 12.5967 4.06333 12.7033 3.85 12.9167L1.945 14.8117C1.73167 15.025 1.625 15.2706 1.625 15.5483C1.625 15.8261 1.73167 16.0717 1.945 16.285L13.3533 27.6933C13.5667 27.9067 13.8122 28.0133 14.09 28.0133C14.3678 28.0133 14.6133 27.9067 14.8267 27.6933ZM13.6483 18.9033L18.8717 13.69L15.9483 10.7667L10.735 15.99L13.6483 18.9033ZM15.985 28.8717C15.4739 29.3828 14.8422 29.6383 14.09 29.6383C13.3378 29.6383 12.7061 29.3828 12.195 28.8717L0.766667 17.4433C0.255556 16.9322 0 16.3006 0 15.5483C0 14.7961 0.255556 14.1644 0.766667 13.6533L2.66 11.7283C3.17111 11.2172 3.80667 10.9617 4.56667 10.9617C5.32667 10.9617 5.96167 11.2172 6.47167 11.7283L9.545 14.8017L14.77 9.57667L11.695 6.51333C11.1839 6.00222 10.9283 5.36556 10.9283 4.60333C10.9283 3.84 11.1839 3.20333 11.695 2.69333L13.6217 0.766667C14.1328 0.255556 14.7683 0 15.5283 0C16.2883 0 16.9233 0.255556 17.4333 0.766667L28.8717 12.205C29.3828 12.7161 29.6383 13.3517 29.6383 14.1117C29.6383 14.8717 29.3828 15.5067 28.8717 16.0167L26.945 17.9433C26.4339 18.4544 25.7972 18.71 25.035 18.71C24.2728 18.71 23.6361 18.4544 23.125 17.9433L20.0617 14.8683L14.8367 20.0933L17.91 23.1667C18.4211 23.6778 18.6767 24.3128 18.6767 25.0717C18.6767 25.8306 18.4211 26.4661 17.91 26.9783L15.985 28.8717Z"/>
				</R.Vector_0006>
				</R.MaterialSymbolsLightExerciseOutline>
				{categories[2]}{" "}
				<R.NaN_0005>건강</R.NaN_0005>
				<R._00H00M>
					{recordedTime}
				</R._00H00M>
			</R.NaN_0012>

			{isModalOpen && (
				<RecordModal
					selectedCategory={selectedCategory}
					handleConfirm={handleConfirm}
					closeModal={closeModal}
				/>
			)}
		</div>
        
			<Footer />
        </R.RootWrapperNaN>
    )
}


